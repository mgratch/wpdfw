function StartAddCurrencyField(){GetFieldsByType(["currency"]).length>0?alert("Only one Currency field can be added to the form"):StartAddField("currency")}function ToggleCurrency(e){var i=e?"":"slow";jQuery("#gfield_currency_all").is(":checked")?(jQuery("#gfield_settings_currency_container").hide(i),SetFieldProperty("displayAllCurrencies",!0),SetFieldProperty("choices",new Array)):(jQuery("#gfield_settings_currency_container").show(i),SetFieldProperty("displayAllCurrencies",!1))}function ToggleCurrencyInitialItem(e){var i=e?"":"slow";jQuery("#gfield_currency_initial_item_enabled").is(":checked")?(jQuery("#gfield_currency_initial_item_container").show(i),e||jQuery("#field_currency_initial_item").val(currency_field_vars.select_currency_text)):(jQuery("#gfield_currency_initial_item_container").hide(i),jQuery("#field_currency_initial_item").val(""))}function SetCurrencyInitialItem(){var e=jQuery("#gfield_currency_initial_item_enabled").is(":checked");SetFieldProperty("currencyInitialItem",e?jQuery("#field_currency_initial_item").val():null),SetFieldProperty("currencyInitialItemEnabled",e)}function SetSelectedCurrencies(){var e=GetSelectedField();e.choices=new Array,jQuery(".gfield_currency_checkbox").each(function(){this.checked&&e.choices.push(new Choice(this.name,this.value))}),e.choices.sort(function(e,i){return e.text.toLowerCase()>i.text.toLowerCase()})}function gform_conditional_logic_values_input_currency(e,i,r,t,c){var n=GetFieldById(t);if(n&&"currency"==n.type&&n.displayAllCurrencies){var l=GetConditionalObject(i),_=l.conditionalLogic.rules[r],u=_.value;u||(u=!1);var a=0==u?i+"_rule_value_"+r:u,d=jQuery("#"+a+".gfield_currency_dropdown");if(d.length>0){var o=d.html();o=o.replace('value="'+c+'"','value="'+c+'" selected="selected"'),e="<select id='"+a+"' class='gfield_rule_select gfield_rule_value_dropdown gfield_currency_dropdown'>"+o+"</select>"}else{var s=0==u?"gfield_ajax_placeholder_"+r:u+"_placeholder";jQuery.post(ajaxurl,{action:"gfp_more_stripe_get_currency_values",objectType:i,ruleIndex:r,inputName:u,selectedValue:c},function(e){var t=e.data;t&&(jQuery("#"+s).replaceWith(t.trim()),SetRuleProperty(i,r,"value",jQuery("#"+a).val()))}),e="<select id='"+s+"' class='gfield_rule_select'><option>"+gf_vars.loading+"</option></select>"}}return e}jQuery(document).ready(function(e){fieldSettings.currency=".label_setting, .currency_field_type_setting, .currency_checkbox_setting,.currency_initial_item_setting, .description_setting, .rules_setting, .duplicate_setting, .admin_label_setting,.size_setting, .error_message_setting, .css_class_setting, .visibility_setting, .prepopulate_field_setting, .conditional_logic_field_setting",e(document).bind("gform_load_field_settings",function(i,r){var t=GetInputType(r);if(r.displayAllCurrencies?e("#gfield_currency_all").prop("checked",!0):e("#gfield_currency_select").prop("checked",!0),ToggleCurrency(!0),e("#gfield_currency_initial_item_enabled").prop("checked",r.currencyInitialItemEnabled?!0:!1),e("#field_currency_initial_item").val(r.currencyInitialItemEnabled?r.currencyInitialItem:""),ToggleCurrencyInitialItem(!0),e(".gfield_currency_checkbox").each(function(){if(r.choices)for(var e=0;e<r.choices.length;e++)if(this.value==r.choices[e].value)return void(this.checked=!0);this.checked=!1}),"currency"===r.type&&("select"===t||"radio"===t)){var c=fieldSettings[r.inputType],n=fieldSettings.currency;e(c).hide(),e(n).show()}"currency"===r.type&&"select"!==t&&(e(".currency_initial_item_setting").hide(),e("#gfield_currency_initial_item_enabled").prop("checked",!1),ToggleCurrencyInitialItem()),e("#currency_field_type").val(r.inputType)}),gform.addFilter("gform_conditional_logic_values_input","gform_conditional_logic_values_input_currency")});